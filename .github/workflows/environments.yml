name: Denominar entornos

on:
 workflow_call:
  outputs: 
   entorno:
    value: ${{jobs.entorno.outputs.entorno}}

jobs:
 entorno:
  runs-on: ubuntu-latest
  outputs:
   entorno: ${{steps.elegir.outputs.entorno}}
  steps:
  - name: Elegir entorno
    id: elegir
    run: |
     REF="${{ github.ref }}"
     echo "$REF"
     if [ "$REF" = "refs/heads/main" ]; then
      echo ENTORNO="producciÃ³n" >> GITHUB_ENV
      echo "entorno=$ENTORNO" >> GITHUB_OUTPUT
     elif [ "$REF" = "refs/heads/development" ]; then
      echo ENTORNO="UAT" >> GITHUB_ENV
      echo "entorno=$ENTORNO" >> GITHUB_OUTPUT
     fi

  - name: Mostrar
    run: echo "${{steps.elegir.outputs.entorno}}"
